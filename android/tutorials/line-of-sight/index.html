<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="NASA WorldWind Software Development Kits (SDKs) for geo-spatial 3D virtual
        globe visualization via OpenGL/WebGL on Android, Java and JavaScript/HTML5 platforms.">
        <link rel="icon" href="/img/favicon.ico" type="image/x-icon"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Lato:300" rel="stylesheet">
        <link rel="stylesheet" href="/css/theme.css">
        <title>
            Line Of Sight-WorldWind Android-NASA WorldWind
        </title>
        
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-105294289-1', 'auto');
    ga('send', 'pageview');

</script>

    </head>

    <body>
    <div class='wrapper'>
    <div>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <p class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#myNavBar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="/" class="navbar-brand"><img id="logo-size" src="/img/nasa-logo.svg" alt="Blue NASA Meatball"></a>
                    <a href="/" class="navbar-brand" id="webww-header">NASA WorldWind</a>
                <div id="myNavBar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/about">About</a></li>
                        <li><a href="/web">Web</a></li>
                        <li><a href="/android">Android</a></li>
                        <li><a href="/java">Java</a></li>
                        <li><a href="/serverkit">Server Kit</a></li>
                        <li><a href="/contact">Contact</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

        
<div class="container-fluid">
    <div class="row ww-carousel">
        <div id="myCarousel" class="carousel slide carousel-fade" data-ride="carousel">
            
            <div class="carousel-inner">
                <div class="item slides active">
                    <img src="/img/android-background.jpg" alt="" style="width:100%;">
                    <div class="jumbotron-overlay"></div>
                    <div class="heading">
                        <h1>WorldWind Android</h1>
                    </div>
                </div>

                <div class="item slides">
                    <img src="/img/java-background.jpg" alt="" style="width:100%;">
                    <div class="jumbotron-overlay"></div>
                    <div class="heading">
                        <h1>WorldWind Android</h1>
                    </div>
                </div>

                <div class="item slides">
                    <img src="/img/serverkit-background.jpg" alt="" style="width:100%;">
                    <div class="jumbotron-overlay"></div>
                    <div class="heading">
                        <h1>WorldWind Android</h1>
                    </div>
                </div>

                <div class="item slides">
                    <img src="/img/web-background.jpg" alt="" style="width:100%;">
                    <div class="jumbotron-overlay"></div>
                    <div class="heading">
                        <h1>WorldWind Android</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="anchor"></div>
<a href="https://github.com/NASAWorldWind/WorldWindAndroid"><img style="position: absolute; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<div class="container content-container" id="main">
    <div class="row-fluid" style="margin-bottom: 10px;">
        <p class="span12">
            <a href="#menu" class="side-menu-link btn btn-mini" title="Click for sub-menu">
                <i class="icon-th"></i>
            </a>
        </p>
    </div>

    <div class="col-sm-3">
        <div id="wrap" class="row-fluid wrap">
            
            <div class="sidenav">
                
                <ul class="nav nav-pills nav-stacked">
                    <li><a href="/android">Overview</a></li>
                    <li><a href="/android/get-started#anchor">Get Started</a></li>
                    <li><a href="/android/tutorials#anchor">Tutorials</a></li>
                    <li><a href="/android/examples#anchor">Examples</a></li>
                    <li><a href="/android/docs#anchor">Docs</a></li>
                </ul>
            </div>
        </div>
    </div>

    
    <section class="col-sm-9">
        

<h2 id="line-of-sight">Line Of Sight</h2>

<hr />


<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/A2jWwF15BVo?rel=0&amp;amp;showinfo=0;autoplay=true" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


<h6 id="video-above-from-the-line-of-sight-example"><em>Video above from the Line Of Sight Example</em></h6>

<hr />

<p>This tutorial demonstrates the OmnidirectionalSightline class and how it can be used to display the line of sight visible portions of terrain given an origin.</p>

<p>OmnidirectionalSightline uses the GPU to determine the visible areas of terrain from a position. A Position and range is all that is needed for the OmnidirectionalSightline object to display the visible areas. Different colors are used to differentiate occluded and visible terrain.</p>

<hr />

<h3 id="omnidirectionalsightlinefragment-java">OmnidirectionalSightlineFragment.java</h3>

<p>The OmnidirectionalSightlineFragment class extends the BasicGlobeFragment and overrides the createWorldWindow method. An OmnidirectionalSightline object is created, customized with ShapeAttributes, and then added to a RenderableLayer on the WorldWindow.</p>

<p>Creating the OmnidirectionalSightline object:</p>

<pre><code class="language-java">// Specify the Sightline origin position
Position position = new Position(46.230, -122.190, 2500.0);
// Specify the range (meters)
double range = 10000.0
OmnidirectionalSightline sightline = new OmnidirectionalSightline(position, range);
</code></pre>

<p>The OmnidirectionalSightline object is now fully configured and ready to be added to the WorldWindow for display on the globe:</p>

<pre><code class="language-java">// Create a layer for the Sightline
RenderableLayer sightlineLayer = new RenderableLayer();
sightlineLayer.addRenderable(sightline);
wwd.getLayers().addLayer(sightlineLayer);

</code></pre>

<p>The color of the areas on terrain which are visible and occluded can be customized using ShapeAttributes:</p>

<pre><code class="language-java">// Create attributes for the visible terrain
ShapeAttributes visibleAttributes = new ShapeAttributes();
visibleAttributes.setInteriorColor(new Color(0f, 1f, 0f, 0.5f)); // Green for visible
// Create attributes for the occluded terrain
ShapeAttributes occludedAttributes = new ShapeAttributes();
occludedAttributes.setInteriorColor(new Color(0.1f, 0.1f, 0.1f, 0.5f)); // Gray for occluded
// Add the attributes
sightline.setAttributes(visibleAttributes);
sightline.setOccludeAttributes(occludedAttributes);
</code></pre>

<p>The OmnidirectionalSightlineFragment tutorial also adds a Placemark at the position specified for the OmnidirectionalSightline object. This isn&rsquo;t necessary and is only added to provide a visual context of the sightline origin and results.</p>

<p><br>The code above should provide a view similar to this:</p>

<p><br></p>

<p><img src="/img/ww-android-line-of-sight-extra.png" class="img-responsive center-block"></p>

<p><br></p>

<p>The OmnidirectionalSightline object uses the available terrain to test for line of sight. As you zoom in or get closer to the terrain, refinement occurs and the visible terrain may change. This tutorial is the simplest demonstration for Line of Sight. Please see this <a href="https://github.com/NASAWorldWind/WorldWindAndroid/blob/develop/worldwind-examples/src/main/java/gov/nasa/worldwindx/OmnidirectionalSightlineActivity.java">example</a> for more functionality.</p>

    </section>
</div>




    <div class="push"></div>
    <script type="text/javascript" src="/js/event-tracking.js"></script>

    </div>
    <br/>
    <br/>
    </body>
    <div>
    <footer id="fh5co-footer" class="overlay fh5co-bg">
    <div class="overlay"></div>
    <div class="container">
        <div class="row row-pb-md">
            <div class="col-md-2 fh5co-widget">
                <a href="/"><h3 class="text-center">Home</h3></a>
            </div>
            <div class="col-md-2 fh5co-widget">
                <a href="https://github.com/WorldWindLabs"><h3 class="text-center">Apps</h3></a>
            </div>
            <div class="col-md-2 fh5co-widget">
                <a href="https://github.com/NASAWorldWind"><h3 class="text-center">Source Code</h3></a>
            </div>
            <div class="col-md-2 fh5co-widget">
                <a href="/about"><h3 class="text-center">About</h3></a>
            </div>
            <div class="col-md-2 fh5co-widget">
                <a href="/contact"><h3 class="text-center">Contact</h3></a>
            </div>
            <div class="col-md-2 fh5co-widget">
                <a href="/blog/roadmap"><h3 class="text-center">Blog</h3></a>
            </div>
            </div>
        </div>
</footer>
    </div>

</html>